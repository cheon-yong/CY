# 2025-1-22

## 1. 개발 진행 및 완료 사항

1. 인벤토리 On/Off 기능 추가
2. 인벤토리 및 퀵바 아이템 슬롯 구현

## 2. 오늘 발생한 이슈 및 고민

1. Overlay와 Canvas에 대한 차이에 대한 이해가 필요하다고 느꼈다. 
2. 오늘은 Canvas의 Child를 Slot으로 Casting할 때 Widget은 바로 캐스팅 되지 않아 시간을 소모하였다.

## 3. 고민 해결 방법 또는 새로 배운 내용

1. 오늘은 블루프린트에서 Canvas의 Child를 Slot으로 Casting할 때 해당 클래스는 CanvasPanelSlot을 상속받지 않아 항상 실패할 것이라는 에러를 반환하였다.

해당 문제를 해결하기 위해서 블루프린트의 `Add Child` 함수가 `Widget`을 전달받고 어떻게 `PanelSlotObject`를 반환하는지 살펴보았다.

해당 함수에서는 `Widget`을 Content라는 변수로 전달받았고 내부에서 `PanelSlot`을 NewObject로 생성하여 `Content->Slot = PanelSlot`이라는 코드를 적용하고 이 PanelSlot을 반환하여 함수를 종료하였다.

이 내용을 참고하여 블루프린트에서 원하는 Widget을 가져온 후 `Get Slot`을 사용하여 `PanelSlot` 을 가져온 후 이를 `CanvasPanelSlot`으로 Casting하여 해결하였다.

## 4. 참고할 만한 레퍼런스

## 5. 특이사항

## 6. 전체 회고

오늘 가장 인상깊었던 해결 방법은 언리얼의 코드를 직접 분석하여 해결 방법을 찾았다는 것이다. 퀵슬롯과 인벤토리를 화면 하단에 위치하게 구현하고 싶었고 인벤토리는 퀵슬롯 상단에 연결되게 구현하고 싶었는데 블루프린트에서 다른 위젯의 상대적 위치를 참고하는 방식을 잘 몰랐다.

Unity에서 사용한 것과 마찬가지로 언리얼에도 앵커, 정렬정보를 사용하면 적용할 수 있을 것이라고 생각하고 Overlay는 해당 정보가 없다는 것을 확인 후 Canvas로 변경 그리고 해당 정보들이 관리되는 Slot을 가져오기까지 필요한 정보를 골라내고 정보를 얻을 수 있는 방법까지 마음에 들었다.

앞으로도 모르는 것들에 대해서 필요한 것들을 생각하고 부딪혀보면서 알아가야겠다.

## 7. 내일 할 일

1. 인벤토리가 InventoryComponent로부터 데이터 불러오기
2. 데이터를 토대로 ItemSlot 세팅
3. QuickBar 구체적 구현
4. 아이템 드랍 및 장비 구현