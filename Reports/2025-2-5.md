# 2025-2-5

## 1. 개발 진행 및 완료 사항

- [ ]  UI 드래그 드롭 개발
- [ ]  아이템 장착
- [ ]  아이템 드랍

개발을 위한 플로우 및 필요 정보 기록

1. UI 드래그 드롭 개발.
인벤토리에서 드래그하여 퀵슬롯에 등록하고, 퀵슬롯에서 드래그하여 아이템을 해제할 수 있다. 추가적으로 어떤 창에서든 드래그, 드롭하여 UI를 벗어난다면 아이템을 땅에 버린다.

이를 위해서 현재 구조에서 추가해야할 내용이 있다.

1. 인벤토리의 슬롯 인덱스
2. 퀵슬롯의 슬롯 인덱스
3. 아이템 슬롯의 초기화 함수

드래그 드롭 시 겹치는 부분이 일정 이상이면 하이라이트 되게 표시
2. 장착 시 캐릭터의 지정된 슬롯에 아이템 생성

## 2. 오늘 발생한 이슈 및 고민

고민

1. Lyra의 Inventory System을 가져와서 사용하다보니 내 생각과 다른 부분이 많았다. 우선 EquipmentEntry와 InventoryEntry가 Lyra와는 다르게 공통적으로 ItemInstance을 사용하기 때문에 InventoryEntry와 EquipmentEntry를 통합하여 사용해야겠다.
2. 현재는 Equipment를 한개만 할 수 있게 생각하고 있다. 그러나 여러 개 장비할 수 있다는 내용으로 변경
3. QuickBar에 등록된 슬롯에 번호를 부여해야하는데 장비와 소비템을 나누지 않아서 힘들다. 일단 모든 아이템을 장착하여 사용한다는 개념으로 가고 `Use()`라는 공통함수를 사용하든 해야겠다.

이슈

1. TArray에 새로운 요소를 추가할 때 특정 인덱스에 새로 추가 하고 싶었다. (교체를 위해)

## 3. 고민 해결 방법 또는 새로 배운 내용

고민 해결

1. 우선 기존 구조를 고집할 필요가 없어졌다고 생각했다. 현재 내 프로젝트에 필요하지 않는 부분을 과감하게 덜어내고 새로운 구조로 변경했다.
2. 현재 구조를 변경하였으나 아직 기획의 변경이 없어서 보여지는 차이는 없다
3. 현재 구현이 되지 않았다.

이슈

1. TArray의 `SetNum` 함수를 사용하면 배열의 크기를 지정할 수 있다. Lyra에는 인벤토리 간 이동기능이 없기 때문에 Index를 통해서 접근하는 함수가 없었으나 이러한 내용을 내 프로젝트에 맞게 수정하기 위해 Index를 이용한 접근을 추가하였다.

## 4. 참고할 만한 레퍼런스

[https://www.youtube.com/watch?v=HuR3xNmIkeY](https://www.youtube.com/watch?v=HuR3xNmIkeY)

## 5. 특이사항

## 6. 전체 회고

오늘은 개발에 좀 더 집중했던 것 같다. 아쉬운 점은 Lyra의 구조를 너무 따라하려다보니 UI에 사용하는 기능들이 없었기 때문에 해당 기능을 추가하는 것에 시간을 많이 보냈다. 내일부터는 일찍 일어나고 개발에 투자를 더 많이 해야겠다. 톡 타이머 덕분에 집중을 더 잘 할 수 있게 되었고 다시 예전처럼 개발에 재미를 느끼고 있어서 개발 속도가 점점 가속될 것 같다.

오늘 얻은 것 중 가장 좋았던 것은 두려워하지 말고 리팩토링에 도전했던 것이다. Inventory에 사용하는 구조체와 Equipment에 사용되는 구조체를 통합하여 하나의 구조체로 변경했다는 점이 가장 인상깊었다. 새로운 코드를 고쳐야하는 점이 매번 번거럽고 또 새로운 에러를 마주할까 두려웠는데 이제는 오늘의 감정을 기억하고 리팩터링을 할 수 있을 것 같다.

## 7. 내일 할 일

진짜 진짜 아이템 마무리를 해야한다. 프로젝트가 지지부진해지고 있기 때문에 빠르게 속도를 올려야겠다.